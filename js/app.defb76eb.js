(function(){"use strict";var t={7267:function(t,e,s){var a=s(9242),o=s(3396);const n={class:"header"},l=(0,o._)("ul",{class:"header-button-left"},[(0,o._)("li")],-1),i=["src"];function r(t,e,s,a,r,p){const c=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",n,[l,(0,o._)("img",{src:r.logo,class:"logo"},null,8,i)]),(0,o.Wm)(c)],64)}const p="http://localhost:3000";var c={name:"App",data(){return{logo:""}},methods:{},components:{},mounted(){this.logo=p+"/assets/logo.png"}},u=s(89);const d=(0,u.Z)(c,[["render",r]]);var m=d,h=s(2483),g=s(7139);const f={key:0,class:"header"},b={class:"header-button-left"},k={key:0,class:"logo"},v={key:1,class:"logo"},_={key:2,class:"logo"},D={class:"header-button-right"},w={key:1},y={class:"footer"},j={class:"footer-button-plus"},I=(0,o._)("input",{type:"file",id:"file",class:"inputfile"},null,-1);function C(t,e,s,a,n,l){const i=(0,o.up)("Container");return(0,o.wg)(),(0,o.iD)(o.HY,null,[0==!n.step?((0,o.wg)(),(0,o.iD)("div",f,[(0,o._)("ul",b,[(0,o._)("li",{onClick:e[0]||(e[0]=t=>n.step--)},"Cancle")]),1==n.step?((0,o.wg)(),(0,o.iD)("p",k,"당신의 MBTI는?")):(0,o.kq)("",!0),2==n.step?((0,o.wg)(),(0,o.iD)("p",v,"템플릿")):(0,o.kq)("",!0),3==n.step?((0,o.wg)(),(0,o.iD)("p",_,"내용&서체")):(0,o.kq)("",!0),(0,o._)("ul",D,[n.step<3?((0,o.wg)(),(0,o.iD)("li",{key:0,onClick:e[1]||(e[1]=t=>n.step++)},"Next")):(0,o.kq)("",!0)])])):(0,o.kq)("",!0),0==n.step?((0,o.wg)(),(0,o.iD)("div",w,[(0,o._)("div",{class:"profile-image",style:(0,g.j5)({backgroundImage:`url(${n.userProfile})`})},null,4),(0,o._)("h1",null,(0,g.zw)(n.user.nickName)+"님의 방명록 페이지",1),(0,o._)("p",null,"방명록 ID: "+(0,g.zw)(t.$route.params.id),1)])):(0,o.kq)("",!0),(0,o.Wm)(i,{onStep:e[2]||(e[2]=t=>n.step=t),onPostPublished:l.fetchPostData,step:n.step,postData:n.postData,id:s.id},null,8,["onPostPublished","step","postData","id"]),(0,o._)("div",y,[(0,o._)("ul",j,[I,0==n.step?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:e[3]||(e[3]=t=>n.step=1)},"작성하기")):(0,o.kq)("",!0)])])],64)}var T=s(4161);const $={key:0},P={key:0},M=(0,o._)("p",null,"친구한테 님 방명록 페이지 공유하셈",-1),U=(0,o._)("p",null,"회원기능이 없어서 메모장에 저장해두는걸 추천",-1),x={key:1},O={class:"mbti-selection"},q=["onClick"],z={key:2,class:"black-bg"},B={class:"white-bg"},Z=(0,o._)("div",null," 상세페이지임 개쩌는 템플릿 : 200원임 사셈 ",-1),N={style:{color:"red"}},E={key:3},H={class:"filters"},A={key:4},S={class:"template-imgae-container"},Y={class:"centered-content"},J={class:"write"},V=(0,o._)("p",null,"서체 선택",-1),G={class:"footer"},L={class:"footer-button-plus"},F=(0,o._)("input",{type:"file",id:"file",class:"inputfile"},null,-1);function K(t,e,s,n,l,i){const r=(0,o.up)("Post"),p=(0,o.up)("TemplateBox");return(0,o.wg)(),(0,o.iD)(o.HY,null,[0==s.step?((0,o.wg)(),(0,o.iD)("div",$,[s.postData.length?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",P,"이런. 친구가 작성해주질 않았나 보네요. 하하")),(0,o._)("div",null,[M,U,(0,o._)("button",{onClick:e[0]||(e[0]=(...t)=>i.copy&&i.copy(...t))},"공유하기")]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.postData,((t,e)=>((0,o.wg)(),(0,o.j4)(r,{postData:s.postData[e],key:e},null,8,["postData"])))),128))])):(0,o.kq)("",!0),1==s.step?((0,o.wg)(),(0,o.iD)("div",x,[(0,o._)("div",O,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.mbtiList,((t,e)=>((0,o.wg)(),(0,o.iD)("button",{key:e,class:(0,g.C_)({"mbti-button":!0,selected:l.selectedMBTI===t}),onClick:e=>i.selectMBTI(t)},(0,g.zw)(t.toUpperCase()),11,q)))),128))])])):(0,o.kq)("",!0),l.modal&&0==!s.step?((0,o.wg)(),(0,o.iD)("div",z,[(0,o._)("div",B,[Z,(0,o._)("p",N,(0,g.zw)(l.info),1),(0,o._)("button",{onClick:e[1]||(e[1]=t=>l.info="스토어 준비 중입니다")},"구매하기"),(0,o._)("button",{onClick:e[2]||(e[2]=t=>{l.modal=!1,l.info=""})},"닫기")])])):(0,o.kq)("",!0),2==s.step?((0,o.wg)(),(0,o.iD)("div",E,[(0,o._)("div",{class:"template-image",style:(0,g.j5)({backgroundImage:`url(${l.selectedTemplate})`})},null,4),(0,o._)("div",H,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.templates,((t,s)=>((0,o.wg)(),(0,o.j4)(p,{key:s,template:l.templates[s],onPath:e[3]||(e[3]=t=>i.templateUrl(t))},null,8,["template"])))),128))]),(0,o._)("button",{onClick:e[4]||(e[4]=t=>l.modal=!0)},"더 많은 템플릿 보러가기")])):(0,o.kq)("",!0),3==s.step?((0,o.wg)(),(0,o.iD)("div",A,[(0,o._)("div",S,[(0,o._)("div",{class:"template-image",style:(0,g.j5)({backgroundImage:`url(${l.selectedTemplate})`})},[(0,o._)("div",Y,[(0,o._)("p",{class:(0,g.C_)(l.font)},(0,g.zw)(l.content),3)])],4)]),(0,o._)("div",J,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.content=t),class:"write-box",placeholder:"내용을 입력해보세요!"},null,512),[[a.nr,l.content]])]),V,(0,o._)("div",null,[(0,o._)("button",{onClick:e[6]||(e[6]=t=>l.font="wooJu"),class:"wooJu"},"학교안심 우주"),(0,o._)("button",{onClick:e[7]||(e[7]=t=>l.font="dotUm"),class:"dotUm"},"학교안심 산뜻돋움"),(0,o._)("button",{onClick:e[8]||(e[8]=t=>l.font="jeMok"),class:"jeMok"},"학교안심 곧은제목"),(0,o._)("button",{onClick:e[9]||(e[9]=t=>l.font="bangHak"),class:"bangHak"},"학교안심 봄방학")]),(0,o._)("button",{onClick:e[10]||(e[10]=t=>l.modal=!0)},"더 많은 서체 보러가기"),(0,o._)("div",G,[(0,o._)("ul",L,[F,(0,o._)("button",{onClick:e[11]||(e[11]=t=>i.publish())},"작성하기")])])])):(0,o.kq)("",!0)],64)}const W={class:"post"},Q={class:"post-header"},R={class:"profile-name"},X={class:"post-content"},tt={class:"date"};function et(t,e,s,a,n,l){return(0,o.wg)(),(0,o.iD)("div",W,[(0,o._)("div",Q,[(0,o._)("div",{class:"profile",style:(0,g.j5)({backgroundImage:`url(${n.userImage})`})},null,4),(0,o._)("span",R,(0,g.zw)(s.postData.mbti.toUpperCase()),1)]),(0,o._)("div",{class:"post-body",style:(0,g.j5)({backgroundImage:`url(${n.templateImage})`})},[(0,o._)("p",{class:(0,g.C_)(s.postData.font)},[(0,o._)("strong",null,(0,g.zw)(s.postData.content),1)],2)],4),(0,o._)("div",X,[(0,o._)("p",null,[(0,o.Uk)("당신 주변의 "),(0,o._)("strong",null,(0,g.zw)(s.postData.mbti.toUpperCase()),1),(0,o.Uk)("가...")]),(0,o._)("p",tt,(0,g.zw)(s.postData.date),1)])])}const st="http://localhost:3000";var at={name:"Post",data(){return{userImage:st+"/assets/mbti/"+this.postData.mbti+".png",templateImage:st+"/assets/template/template"+this.postData.templateId+".jpeg"}},props:{postData:Object,posts:Object}};const ot=(0,u.Z)(at,[["render",et]]);var nt=ot;const lt={class:"name"};function it(t,e,s,a,n,l){return(0,o.wg)(),(0,o.iD)("div",{class:"template-item",onClick:e[0]||(e[0]=e=>t.$emit("path",s.template.id))},[(0,o._)("p",lt,(0,g.zw)(s.template.name),1),(0,o._)("div",{class:"template",style:(0,g.j5)({backgroundImage:`url(${s.template.path})`})},null,4)])}var rt={name:"TemplateBox",data(){return{}},props:{template:Object}};const pt=(0,u.Z)(rt,[["render",it]]);var ct=pt;const ut="http://localhost:3000";var dt={name:"Container",data(){return{mbtiList:["istj","isfj","infj","intj","istp","isfp","infp","intp","estj","esfj","enfj","entj","estp","esfp","enfp","entp"],templates:[{id:1,name:"템플릿 1",path:ut+"/assets/template/template1.jpeg"},{id:2,name:"템플릿 2",path:ut+"/assets/template/template2.jpeg"},{id:3,name:"템플릿 3",path:ut+"/assets/template/template3.jpeg"},{id:4,name:"템플릿 4",path:ut+"/assets/template/template4.jpeg"},{id:5,name:"템플릿 5",path:ut+"/assets/template/template5.jpeg"},{id:6,name:"템플릿 6",path:ut+"/assets/template/template6.jpeg"},{id:7,name:"템플릿 7",path:ut+"/assets/template/template7.jpeg"},{id:8,name:"템플릿 8",path:ut+"/assets/template/template8.jpeg"}],selectedMBTI:"istj",selectedTemplate:null,content:"",font:"",templateId:1,modal:!1,info:""}},methods:{copy(){this.$copyText(this.$route.fullPath).then((()=>{alert("복사 완료")}))},selectMBTI(t){this.selectedMBTI=t,console.log("선택된 MBTI:",t),console.log(this.templates[0].path)},templateUrl(t){this.templateId=t,console.log(this.templateId),this.selectedTemplate=this.templates[t-1].path},formatDate(t){const e=["January","February","March","April","May","June","July","August","September","October","November","December"],s=e[t.getMonth()],a=t.getDate();return`${s} ${a}`},publish(){const t=new Date,e=this.formatDate(t);var s={postId:this.id,mbti:this.selectedMBTI,templateId:this.templateId,date:e,content:this.content,font:this.font};T.Z.post(`${ut}/postData`,s).then((t=>{console.log("New post added:",t.data),this.$emit("postPublished")})).catch((t=>{console.error("Error adding new post:",t)})),this.$emit("step",0)}},mounted(){this.selectedTemplate=this.templates[0].path},props:{postData:Array,step:Number,id:String},components:{Post:nt,TemplateBox:ct},emits:["step","postPublished"]};const mt=(0,u.Z)(dt,[["render",K]]);var ht=mt;const gt="http://localhost:3000";var ft={name:"Pages",data(){return{step:0,user:{},userProfile:"",postData:[]}},methods:{async fetchUserData(){await T.Z.get(`${gt}/userData/${this.id}`).then((t=>{this.user=t.data,console.log(this.user),this.userProfile=gt+"/assets/mbti/"+this.user.mbti+".png"})).catch((t=>{console.error("Error fetching user data:",t)}))},async fetchPostData(){await T.Z.get(`${gt}/postData`).then((t=>{this.postData=t.data.filter((t=>t.postId===this.id)),this.postData.sort(((t,e)=>e.id-t.id))})).catch((t=>{console.error("Error fetching post data:",t)}))}},mounted(){this.fetchUserData(),this.fetchPostData()},props:["id"],components:{Container:ht}};const bt=(0,u.Z)(ft,[["render",C]]);var kt=bt;const vt={key:0,class:"black-bg"},_t={class:"white-bg"},Dt=(0,o._)("div",null,[(0,o._)("h4",null,"MBTI 방명록"),(0,o._)("h1",null,"모여바바"),(0,o._)("p",null,"윤디자인의 서체로 제작된 MBTI 프로필로 소통하기")],-1),wt=(0,o._)("div",{class:"infoBox"},"상세페이지임",-1),yt={class:"createGuest"},jt=(0,o._)("option",{value:"",disabled:"",selected:""},"MBTI를 선택해주세요",-1),It=["value"],Ct=(0,o._)("option",{value:"ISFJ"},"ISFJ",-1),Tt={key:0,class:"error-message"},$t={class:"footer"},Pt={class:"footer-button-plus"},Mt=(0,o._)("input",{type:"file",id:"file",class:"inputfile"},null,-1);function Ut(t,e,s,n,l,i){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("button",{onClick:e[0]||(e[0]=t=>l.modal=!0)},"이미 방명록이 있어요"),l.modal?((0,o.wg)(),(0,o.iD)("div",vt,[(0,o._)("div",_t,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.address=t),type:"text",placeholder:"ID"},null,512),[[a.nr,l.address]]),(0,o._)("p",null,(0,g.zw)(l.addressError),1),(0,o._)("button",{onClick:e[2]||(e[2]=(...t)=>i.goToPage&&i.goToPage(...t))},"이동"),(0,o._)("button",{onClick:e[3]||(e[3]=t=>l.modal=!1)},"닫기")])])):(0,o.kq)("",!0),Dt,wt,(0,o._)("div",yt,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>l.nickName=t),placeholder:"닉네임"},null,512),[[a.nr,l.nickName]]),(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.mbti=t),onChange:e[6]||(e[6]=(...e)=>t.handleMbtiChange&&t.handleMbtiChange(...e))},[jt,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.mbtiList,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:t},(0,g.zw)(l.mbtiList[e].toUpperCase()),9,It)))),128)),Ct],544),[[a.bM,l.mbti]]),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>l.email=t),placeholder:"이메일"},null,512),[[a.nr,l.email]]),l.error?((0,o.wg)(),(0,o.iD)("p",Tt,(0,g.zw)(l.error),1)):(0,o.kq)("",!0)]),(0,o._)("div",$t,[(0,o._)("ul",Pt,[Mt,(0,o._)("button",{onClick:e[8]||(e[8]=(...t)=>i.createCustomGuestbook&&i.createCustomGuestbook(...t))},"방명록 만들기")])])],64)}s(7658);const xt="http://localhost:3000";var Ot={name:"Home",data(){return{userData:[],modal:!1,nickName:"",mbti:"",email:"",id:"",error:"",address:"",addressError:"",mbtiList:["istj","isfj","infj","intj","istp","isfp","infp","intp","estj","esfj","enfj","entj","estp","esfp","enfp","entp"]}},methods:{async fetchUserData(){await T.Z.get(`${xt}/userData`).then((t=>{this.userData=t.data,console.log(this.user),this.userProfile=xt+"/assets/mbti/"+this.user.mbti+".png"})).catch((t=>{console.error("Error fetching user data:",t)}))},goToPage(){this.validateAddress()&&(this.modal=!1,this.$router.push(`/pages/${this.address}`))},validateAddress(){return 6!==this.address.length?(this.addressError="ID는 6글자로 이루어져야 합니다.",!1):/^[0-9]+$/.test(this.address)?this.userDataHasId()?(this.addressError="",!0):(this.addressError="해당 ID가 userData에 존재하지 않습니다.",!1):(this.addressError="ID는 숫자로만 이루어져야 합니다.",!1)},userDataHasId(){return this.userData.some((t=>t.id===this.address))},focusOnInput(){const t=document.querySelector(".createGuest");console.log(t),t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.focus())},async generateId(){try{const t=await T.Z.get(`${xt}/userData`);this.userData=t.data;const e=Math.max(...this.userData.map((t=>Number(t.id))));console.log("maxId:",e);const s=(e+1).toString().padStart(6,"0");return s}catch(t){console.error("Error fetching user data:",t)}},createCustomGuestbook(){if(this.focusOnInput(),this.nickName.length<1||this.nickName.length>10)return void(this.error="닉네임은 1글자 이상 10글자 이하로 입력해야 합니다.");if(!this.mbti)return void(this.error="MBTI를 선택해주세요.");const t=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;t.test(this.email)?this.generateId().then((t=>{this.error="";const e={id:t,nickName:this.nickName,mbti:this.mbti,email:this.email};console.log("전송할 사용자 데이터:",e),T.Z.post(`${xt}/userData`,e).then((t=>{console.log("New user added:",t.data),this.userData.push(t.data)})).catch((t=>{console.error("Error adding new user:",t)})),this.$router.push(`/pages/${t}`).then((()=>{window.scrollTo(0,0)}))})):this.error="유효한 이메일 주소를 입력해야 합니다."}},mounted(){this.fetchUserData()}};const qt=(0,u.Z)(Ot,[["render",Ut]]);var zt=qt;const Bt=[{path:"/",component:zt},{path:"/pages/:id",component:kt,props:!0}],Zt=(0,h.p7)({history:(0,h.PO)(),routes:Bt});var Nt=Zt,Et=s(5428),Ht=s.n(Et);const At=(0,a.ri)(m);At.use(Nt),At.use(Ht()),At.mount("#app")}},e={};function s(a){var o=e[a];if(void 0!==o)return o.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,a,o,n){if(!a){var l=1/0;for(c=0;c<t.length;c++){a=t[c][0],o=t[c][1],n=t[c][2];for(var i=!0,r=0;r<a.length;r++)(!1&n||l>=n)&&Object.keys(s.O).every((function(t){return s.O[t](a[r])}))?a.splice(r--,1):(i=!1,n<l&&(l=n));if(i){t.splice(c--,1);var p=o();void 0!==p&&(e=p)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[a,o,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,n,l=a[0],i=a[1],r=a[2],p=0;if(l.some((function(e){return 0!==t[e]}))){for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(r)var c=r(s)}for(e&&e(a);p<l.length;p++)n=l[p],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(c)},a=self["webpackChunkbaba"]=self["webpackChunkbaba"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(7267)}));a=s.O(a)})();
//# sourceMappingURL=app.defb76eb.js.map